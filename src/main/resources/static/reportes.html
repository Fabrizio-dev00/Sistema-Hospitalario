<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reportes</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header>
    <h2>üìä Reportes del Sistema Hospitalario</h2>
    <a href="index.html">üè† Volver al panel</a>
</header>

<main>
    <section>
        <h3>Reportes Disponibles</h3>
        <ul class="lista-reportes">
            <li><button onclick="generarReporte('medicos')">üë®‚Äç‚öïÔ∏è M√©dicos Registrados</button></li>
            <li><button onclick="generarReporte('citas')">üìÖ Citas por M√©dico</button></li>
            <li><button onclick="generarReporte('pacientes')">üßç Pacientes Atendidos</button></li>
            <li><button onclick="generarReporte('historias')">üìñ Historias Cl√≠nicas Abiertas</button></li>
        </ul>
    </section>

    <section id="resultadoReporte">
        <h3>Resultado del Reporte</h3>
        <div id="contenidoReporte" class="tabla-reporte">
            <p>Selecciona un tipo de reporte para visualizar los datos.</p>
        </div>
    </section>
</main>

<script>
    // === DATOS DE PRUEBA ===
    const data = {
        medicos: [
            { id: 1, nombres: "Carlos P√©rez", especialidad: "Cardiolog√≠a", telefono: "987654321" },
            { id: 2, nombres: "Laura Guti√©rrez", especialidad: "Pediatr√≠a", telefono: "945612378" },
            { id: 3, nombres: "Miguel Torres", especialidad: "Neurolog√≠a", telefono: "912345678" }
        ],
        citas: [
            { medico: "Carlos P√©rez", cantidad: 15 },
            { medico: "Laura Guti√©rrez", cantidad: 22 },
            { medico: "Miguel Torres", cantidad: 9 }
        ],
        pacientes: [
            { id: 101, nombre: "Mar√≠a L√≥pez", dni: "45678912", telefono: "987111222" },
            { id: 102, nombre: "Juan D√≠az", dni: "78965412", telefono: "986222333" },
            { id: 103, nombre: "Rosa Ch√°vez", dni: "12398745", telefono: "999444555" }
        ],
        historias: [
            { id_historia: 1, paciente: "Mar√≠a L√≥pez", fecha_apertura: "2025-09-01", observaciones: "Tratamiento en curso" },
            { id_historia: 2, paciente: "Juan D√≠az", fecha_apertura: "2025-08-25", observaciones: "Control post-operatorio" }
        ]
    };

    // === FUNCI√ìN PRINCIPAL DE REPORTES ===
    function generarReporte(tipo) {
        const contenedor = document.getElementById('contenidoReporte');
        let html = "";

        switch (tipo) {
            case 'medicos':
                html = `
                    <h4>üë®‚Äç‚öïÔ∏è M√©dicos Registrados</h4>
                    <table>
                        <thead>
                            <tr><th>ID</th><th>Nombre</th><th>Especialidad</th><th>Tel√©fono</th></tr>
                        </thead>
                        <tbody>
                            ${data.medicos.map(m => `
                                <tr>
                                    <td>${m.id}</td>
                                    <td>${m.nombres}</td>
                                    <td>${m.especialidad}</td>
                                    <td>${m.telefono}</td>
                                </tr>`).join("")}
                        </tbody>
                    </table>`;
                break;

            case 'citas':
                html = `
                    <h4>üìÖ Citas por M√©dico</h4>
                    <table>
                        <thead><tr><th>M√©dico</th><th>Cantidad de Citas</th></tr></thead>
                        <tbody>
                            ${data.citas.map(c => `
                                <tr>
                                    <td>${c.medico}</td>
                                    <td>${c.cantidad}</td>
                                </tr>`).join("")}
                        </tbody>
                    </table>`;
                break;

            case 'pacientes':
                html = `
                    <h4>üßç Pacientes Atendidos</h4>
                    <table>
                        <thead><tr><th>ID</th><th>Nombre</th><th>DNI</th><th>Tel√©fono</th></tr></thead>
                        <tbody>
                            ${data.pacientes.map(p => `
                                <tr>
                                    <td>${p.id}</td>
                                    <td>${p.nombre}</td>
                                    <td>${p.dni}</td>
                                    <td>${p.telefono}</td>
                                </tr>`).join("")}
                        </tbody>
                    </table>`;
                break;

            case 'historias':
                html = `
                    <h4>üìñ Historias Cl√≠nicas Abiertas</h4>
                    <table>
                        <thead><tr><th>ID Historia</th><th>Paciente</th><th>Fecha Apertura</th><th>Observaciones</th></tr></thead>
                        <tbody>
                            ${data.historias.map(h => `
                                <tr>
                                    <td>${h.id_historia}</td>
                                    <td>${h.paciente}</td>
                                    <td>${h.fecha_apertura}</td>
                                    <td>${h.observaciones}</td>
                                </tr>`).join("")}
                        </tbody>
                    </table>`;
                break;

            default:
                html = `<p>No se reconoce el tipo de reporte.</p>`;
        }

        contenedor.innerHTML = html;
    }
</script>
</body>
</html>
